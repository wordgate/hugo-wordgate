<a href="/cart/" class="nav-item cart-icon"
   x-data="{
      cart: { items: [] },
      itemCount: 0,
      
      init() {
        // 初始化购物车状态
        this.updateCart();
        
        $wg.cart.onChanged(()=> {
          this.updateCart();
        });
      },
      
      updateCart() {
        this.cart = $wg.cart.getItems();
        this.itemCount = this.cart.length;
      }
   }"
   x-init="init()">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="9" cy="21" r="1"></circle>
        <circle cx="20" cy="21" r="1"></circle>
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
    </svg>
    <span class="cart-count" x-text="itemCount" x-show="itemCount > 0">0</span>
</a>

<style>
/* 购物车图标样式 */
.cart-icon {
    position: relative;
    margin-left: 10px;
}

.cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #e53e3e;
    color: white;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    font-size: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* 适配x-cloak指令 */
[x-cloak] {
    display: none !important;
}
</style> 